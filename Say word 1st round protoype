<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SayWord Knockout</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background:#fff;
      text-align:center;
      padding:20px;
      color:#001F3F; /* navy text */
    }

    h1 { color:#001F3F; }

    /* Round timer progress bar */
    #round-timer {
      width: 100%;
      height: 30px;
      background: #ddd;
      margin-bottom: 20px;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }
    #round-progress {
      height: 100%;
      width: 100%;
      background: #FF851B; /* orange */
      color: white;
      text-align: center;
      line-height: 30px;
      transition: width 1s linear;
    }

    /* 20-second circular timer */
    #turn-timer {
      width:120px;
      height:120px;
      border-radius:50%;
      border:10px solid #001F3F; /* navy border */
      margin: 20px auto;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      font-weight:bold;
      color:#001F3F;
      background:#fff;
    }

    /* Morpheme card styled like playing card */
    #morpheme-card {
      font-size:28px;
      font-weight:bold;
      margin:20px auto;
      padding:40px 20px;
      width:160px;
      height:220px;
      border:2px solid #001F3F; /* navy border */
      border-radius:10px;
      box-shadow: 4px 6px 10px rgba(0,0,0,0.3);
      background:#fff;
      color:#FF851B; /* orange text */
      display:flex;
      align-items:center;
      justify-content:center;
    }

    input {
      padding:10px;
      font-size:16px;
      width:200px;
      border:2px solid #001F3F;
      border-radius:5px;
    }
    button {
      padding:10px 15px;
      margin-left:10px;
      background:#FF851B;
      color:white;
      border:none;
      cursor:pointer;
      font-size:16px;
      border-radius:5px;
    }
    button:hover {
      background:#e87414; /* darker orange hover */
    }

    #status { margin-top:15px; font-weight:bold; min-height:24px; }
  </style>
</head>
<body>

  <h1>SayWord Knockout</h1>

  <!-- 5 min round timer -->
  <div id="round-timer">
    <div id="round-progress">5:00</div>
  </div>

  <!-- 20 sec circular timer -->
  <div id="turn-timer">20</div>

  <!-- Morpheme card -->
  <div id="morpheme-card">---</div>

  <!-- Word input -->
  <input type="text" id="word-input" placeholder="Enter word" />
  <button onclick="submitWord()">Submit</button>

  <p id="status"></p>
  <p>Words Submitted: <span id="score">0</span> / 20</p>
  <p>Strikes: <span id="strikes">0</span> / 3</p>

  <script>
    // Game state
    let roundTime = 300; // 5 min = 300 sec
    let turnTime = 20;   // 20 sec per word
    let roundTimer, turnTimer;
    let wordsSubmitted = 0;
    let strikes = 0;
    let usedWords = new Set(); // to track duplicate word submissions

    // 80 morphemes list
    const morphemes = [
      "pre","re","un","in","im","dis","mis","sub","inter","trans","super","over","under","anti","non","post","pro","semi","tri","bi","mono","multi","ex","co","com","con","de","en","em",
      "able","ible","al","ance","ence","er","or","ment","ness","ful","less","tion","sion","ous","ious","ic","ish","ive","ity","ty","ly","ship","ward","wards","ed","ing","est","y","en","dom","ant","ent","ology",
      "aqua","aud","bene","bio","chrono","cred","dict","geo","graph","gram","junct","man","manu","mater","matr","meter","metr","min","mit","miss","mort","phon","photo","port","rupt","scrib","script","spect","struct","tele","terra","therm","vid","vis","voc","voke","zo","zoo"
    ];
    let availableMorphemes = [...morphemes]; // copy for round
    let currentMorpheme = "";

    // Start game
    startRound();

    function startRound() {
      // Round countdown
      roundTimer = setInterval(() => {
        roundTime--;
        updateRoundTimer();
        if (roundTime <= 0) endGame(false, "â° Time is up!");
      }, 1000);

      // First turn
      nextTurn();
    }

    function updateRoundTimer() {
      let minutes = Math.floor(roundTime / 60);
      let seconds = roundTime % 60;
      let display = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
      let percent = (roundTime / 300) * 100;
      let bar = document.getElementById("round-progress");
      bar.style.width = percent + "%";
      bar.textContent = display;
    }

    function nextTurn() {
      if (availableMorphemes.length === 0) {
        endGame(true, "ðŸ† You win! All morpheme cards used.");
        return;
      }

      // Pick random morpheme without repeats
      let index = Math.floor(Math.random() * availableMorphemes.length);
      currentMorpheme = availableMorphemes.splice(index, 1)[0]; // remove it from pool
      document.getElementById("morpheme-card").textContent = c
