<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SayWord Knockout</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: white;
      margin: 0;
      padding: 0;
    }

    h1 {
      color: navy;
    }

    #game {
      margin-top: 20px;
    }

    .card {
      display: inline-block;
      width: 120px;
      height: 180px;
      margin: 10px;
      background-color: orange;
      color: navy;
      border: 4px double navy;
      border-radius: 12px;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.3);
      position: relative;
      font-size: 20px;
      font-weight: bold;
      line-height: 180px;
    }

    .point-oval {
      position: absolute;
      bottom: 8px;
      left: 8px;
      background: white;
      color: navy;
      border: 2px solid navy;
      border-radius: 50px;
      padding: 2px 8px;
      font-size: 12px;
      font-weight: bold;
    }

    #timer {
      font-size: 24px;
      color: navy;
      margin: 15px 0;
    }

    #score {
      font-size: 20px;
      color: navy;
      margin: 10px 0;
    }

    #wordInput {
      padding: 10px;
      font-size: 16px;
      width: 250px;
    }

    #submitWord {
      padding: 10px 20px;
      font-size: 16px;
      margin-left: 10px;
      background-color: navy;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    #submitWord:hover {
      background-color: orange;
      color: navy;
    }

    #message {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
      color: red;
    }
  </style>
</head>
<body>
  <h1>SayWord Knockout</h1>
  <div id="timer">Time left: 20</div>
  <div id="score">Score: 0</div>
  <div id="game"></div>
  <input id="wordInput" type="text" placeholder="Enter your word" />
  <button id="submitWord">Submit</button>
  <div id="message"></div>

  <script>
    const morphemes = [];

    // Add 40 morphemes for 7th grade (1 point each)
    const grade7Morphemes = [
      "bio", "graph", "tele", "photo", "micro", "auto", "meter", "port",
      "dict", "scrib", "sect", "vis", "vid", "phon", "geo", "aqua",
      "struct", "form", "therm", "cycle", "cred", "rupt", "spect", "ject",
      "manu", "chron", "astro", "bene", "mal", "ped", "mit", "cap",
      "anti", "multi", "sub", "trans", "tri", "uni", "re", "pre"
    ];
    grade7Morphemes.forEach(m => morphemes.push({ text: m, points: 1 }));

    // Add 40 morphemes for 8th grade (2 points each)
    const grade8Morphemes = [
      "inter", "intra", "poly", "circum", "hyper", "hypo", "semi", "syn",
      "teleo", "neo", "omni", "post", "super", "ultra", "ambi", "contra",
      "cide", "dorm", "homo", "hetero", "phobia", "phile", "logue", "path",
      "morph", "chronos", "cracy", "dem", "gen", "ism", "ist", "logy",
      "onym", "phil", "polis", "scope", "soph", "troph", "videre", "voc"
    ];
    grade8Morphemes.forEach(m => morphemes.push({ text: m, points: 2 }));

    // Shuffle morphemes to avoid repeats
    let availableMorphemes = [...morphemes];
    let usedWords = new Set();
    let score = 0;
    let timeLeft = 20;
    let timerInterval;

    function startGame() {
      displayCards();
      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = "Time left: " + timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          document.getElementById("message").innerText = "Time's up! Final Score: " + score;
        }
      }, 1000);
    }

    function displayCards() {
      const gameDiv = document.getElementById("game");
      gameDiv.innerHTML = "";
      const selected = availableMorphemes.slice(0, 5); // show 5 at a time
      selected.forEach(morpheme => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerText = morpheme.text;
        
        const oval = document.createElement("div");
        oval.className = "point-oval";
        oval.innerText = morpheme.points === 1 ? "1 point" : "2 points";
        card.appendChild(oval);

        gameDiv.appendChild(card);
      });
    }

    function submitWord() {
      const wordInput = document.getElementById("wordInput");
      const word = wordInput.value.trim().toLowerCase();
      const message = document.getElementById("message");

      if (!word) {
        message.innerText = "Please enter a word.";
        return;
      }

      if (usedWords.has(word)) {
        message.innerText = "That word was already used!";
        wordInput.value = "";
        return;
      }

      let valid = false;
      let wordPoints = 0;
      morphemes.forEach(m => {
        if (word.includes(m.text)) {
          valid = true;
          wordPoints += m.points;
        }
      });

      if (valid) {
        usedWords.add(word);
        score += wordPoints;
        document.getElementById("score").innerText = "Score: " + score;
        message.innerText = "Good job! +" + wordPoints + " points.";
      } else {
        message.innerText = "Invalid word!";
      }

      wordInput.value = "";
    }

    document.getElementById("submitWord").addEventListener("click", submitWord);

    startGame();
  </script>
</body>
</html>
